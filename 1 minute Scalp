{"cells":[{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":1000},"executionInfo":{"elapsed":192331,"status":"ok","timestamp":1725833013886,"user":{"displayName":"Ghaffar Elahi","userId":"03211535299359125772"},"user_tz":-300},"id":"F8vxywCZCLb6","outputId":"57127c72-d7d7-4857-ea1b-fc6f5bcc03fb"},"outputs":[{"output_type":"stream","name":"stdout","text":["Collecting vectorbt\n","  Downloading vectorbt-0.26.2.tar.gz (485 kB)\n","\u001b[?25l     \u001b[90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\u001b[0m \u001b[32m0.0/485.9 kB\u001b[0m \u001b[31m?\u001b[0m eta \u001b[36m-:--:--\u001b[0m\r\u001b[2K     \u001b[91m━━━━━━━━━━━━━━━━━━━━━━━\u001b[0m\u001b[91m╸\u001b[0m\u001b[90m━━━━━━━━━━━━━━━━\u001b[0m \u001b[32m286.7/485.9 kB\u001b[0m \u001b[31m8.7 MB/s\u001b[0m eta \u001b[36m0:00:01\u001b[0m\r\u001b[2K     \u001b[90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\u001b[0m \u001b[32m485.9/485.9 kB\u001b[0m \u001b[31m7.4 MB/s\u001b[0m eta \u001b[36m0:00:00\u001b[0m\n","\u001b[?25h  Preparing metadata (setup.py) ... \u001b[?25l\u001b[?25hdone\n","Requirement already satisfied: numpy<2.0.0,>=1.16.5 in /usr/local/lib/python3.10/dist-packages (from vectorbt) (1.26.4)\n","Requirement already satisfied: pandas in /usr/local/lib/python3.10/dist-packages (from vectorbt) (2.1.4)\n","Requirement already satisfied: scipy in /usr/local/lib/python3.10/dist-packages (from vectorbt) (1.13.1)\n","Requirement already satisfied: matplotlib in /usr/local/lib/python3.10/dist-packages (from vectorbt) (3.7.1)\n","Requirement already satisfied: plotly>=4.12.0 in /usr/local/lib/python3.10/dist-packages (from vectorbt) (5.15.0)\n","Requirement already satisfied: ipywidgets>=7.0.0 in /usr/local/lib/python3.10/dist-packages (from vectorbt) (7.7.1)\n","Collecting dill (from vectorbt)\n","  Downloading dill-0.3.8-py3-none-any.whl.metadata (10 kB)\n","Requirement already satisfied: tqdm in /usr/local/lib/python3.10/dist-packages (from vectorbt) (4.66.5)\n","Collecting dateparser (from vectorbt)\n","  Downloading dateparser-1.2.0-py2.py3-none-any.whl.metadata (28 kB)\n","Requirement already satisfied: imageio in /usr/local/lib/python3.10/dist-packages (from vectorbt) (2.34.2)\n","Requirement already satisfied: scikit-learn in /usr/local/lib/python3.10/dist-packages (from vectorbt) (1.3.2)\n","Collecting schedule (from vectorbt)\n","  Downloading schedule-1.2.2-py3-none-any.whl.metadata (3.8 kB)\n","Requirement already satisfied: requests in /usr/local/lib/python3.10/dist-packages (from vectorbt) (2.32.3)\n","Requirement already satisfied: pytz in /usr/local/lib/python3.10/dist-packages (from vectorbt) (2024.1)\n","Collecting mypy_extensions (from vectorbt)\n","  Downloading mypy_extensions-1.0.0-py3-none-any.whl.metadata (1.1 kB)\n","Collecting numba<0.57.0,>=0.56.0 (from vectorbt)\n","  Downloading numba-0.56.4-cp310-cp310-manylinux2014_x86_64.manylinux_2_17_x86_64.whl.metadata (2.8 kB)\n","Requirement already satisfied: ipykernel>=4.5.1 in /usr/local/lib/python3.10/dist-packages (from ipywidgets>=7.0.0->vectorbt) (5.5.6)\n","Requirement already satisfied: ipython-genutils~=0.2.0 in /usr/local/lib/python3.10/dist-packages (from ipywidgets>=7.0.0->vectorbt) (0.2.0)\n","Requirement already satisfied: traitlets>=4.3.1 in /usr/local/lib/python3.10/dist-packages (from ipywidgets>=7.0.0->vectorbt) (5.7.1)\n","Requirement already satisfied: widgetsnbextension~=3.6.0 in /usr/local/lib/python3.10/dist-packages (from ipywidgets>=7.0.0->vectorbt) (3.6.8)\n","Requirement already satisfied: ipython>=4.0.0 in /usr/local/lib/python3.10/dist-packages (from ipywidgets>=7.0.0->vectorbt) (7.34.0)\n","Requirement already satisfied: jupyterlab-widgets>=1.0.0 in /usr/local/lib/python3.10/dist-packages (from ipywidgets>=7.0.0->vectorbt) (3.0.13)\n","Collecting llvmlite<0.40,>=0.39.0dev0 (from numba<0.57.0,>=0.56.0->vectorbt)\n","  Downloading llvmlite-0.39.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (4.7 kB)\n","Collecting numpy<2.0.0,>=1.16.5 (from vectorbt)\n","  Downloading numpy-1.23.5-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (2.3 kB)\n","Requirement already satisfied: setuptools in /usr/local/lib/python3.10/dist-packages (from numba<0.57.0,>=0.56.0->vectorbt) (71.0.4)\n","Requirement already satisfied: tenacity>=6.2.0 in /usr/local/lib/python3.10/dist-packages (from plotly>=4.12.0->vectorbt) (9.0.0)\n","Requirement already satisfied: packaging in /usr/local/lib/python3.10/dist-packages (from plotly>=4.12.0->vectorbt) (24.1)\n","Requirement already satisfied: python-dateutil in /usr/local/lib/python3.10/dist-packages (from dateparser->vectorbt) (2.8.2)\n","Requirement already satisfied: regex!=2019.02.19,!=2021.8.27 in /usr/local/lib/python3.10/dist-packages (from dateparser->vectorbt) (2024.5.15)\n","Requirement already satisfied: tzlocal in /usr/local/lib/python3.10/dist-packages (from dateparser->vectorbt) (5.2)\n","Requirement already satisfied: pillow>=8.3.2 in /usr/local/lib/python3.10/dist-packages (from imageio->vectorbt) (9.4.0)\n","Requirement already satisfied: contourpy>=1.0.1 in /usr/local/lib/python3.10/dist-packages (from matplotlib->vectorbt) (1.3.0)\n","Requirement already satisfied: cycler>=0.10 in /usr/local/lib/python3.10/dist-packages (from matplotlib->vectorbt) (0.12.1)\n","Requirement already satisfied: fonttools>=4.22.0 in /usr/local/lib/python3.10/dist-packages (from matplotlib->vectorbt) (4.53.1)\n","Requirement already satisfied: kiwisolver>=1.0.1 in /usr/local/lib/python3.10/dist-packages (from matplotlib->vectorbt) (1.4.5)\n","Requirement already satisfied: pyparsing>=2.3.1 in /usr/local/lib/python3.10/dist-packages (from matplotlib->vectorbt) (3.1.4)\n","Requirement already satisfied: tzdata>=2022.1 in /usr/local/lib/python3.10/dist-packages (from pandas->vectorbt) (2024.1)\n","Requirement already satisfied: charset-normalizer<4,>=2 in /usr/local/lib/python3.10/dist-packages (from requests->vectorbt) (3.3.2)\n","Requirement already satisfied: idna<4,>=2.5 in /usr/local/lib/python3.10/dist-packages (from requests->vectorbt) (3.8)\n","Requirement already satisfied: urllib3<3,>=1.21.1 in /usr/local/lib/python3.10/dist-packages (from requests->vectorbt) (2.0.7)\n","Requirement already satisfied: certifi>=2017.4.17 in /usr/local/lib/python3.10/dist-packages (from requests->vectorbt) (2024.8.30)\n","Requirement already satisfied: joblib>=1.1.1 in /usr/local/lib/python3.10/dist-packages (from scikit-learn->vectorbt) (1.4.2)\n","Requirement already satisfied: threadpoolctl>=2.0.0 in /usr/local/lib/python3.10/dist-packages (from scikit-learn->vectorbt) (3.5.0)\n","Requirement already satisfied: jupyter-client in /usr/local/lib/python3.10/dist-packages (from ipykernel>=4.5.1->ipywidgets>=7.0.0->vectorbt) (6.1.12)\n","Requirement already satisfied: tornado>=4.2 in /usr/local/lib/python3.10/dist-packages (from ipykernel>=4.5.1->ipywidgets>=7.0.0->vectorbt) (6.3.3)\n","Collecting jedi>=0.16 (from ipython>=4.0.0->ipywidgets>=7.0.0->vectorbt)\n","  Using cached jedi-0.19.1-py2.py3-none-any.whl.metadata (22 kB)\n","Requirement already satisfied: decorator in /usr/local/lib/python3.10/dist-packages (from ipython>=4.0.0->ipywidgets>=7.0.0->vectorbt) (4.4.2)\n","Requirement already satisfied: pickleshare in /usr/local/lib/python3.10/dist-packages (from ipython>=4.0.0->ipywidgets>=7.0.0->vectorbt) (0.7.5)\n","Requirement already satisfied: prompt-toolkit!=3.0.0,!=3.0.1,<3.1.0,>=2.0.0 in /usr/local/lib/python3.10/dist-packages (from ipython>=4.0.0->ipywidgets>=7.0.0->vectorbt) (3.0.47)\n","Requirement already satisfied: pygments in /usr/local/lib/python3.10/dist-packages (from ipython>=4.0.0->ipywidgets>=7.0.0->vectorbt) (2.16.1)\n","Requirement already satisfied: backcall in /usr/local/lib/python3.10/dist-packages (from ipython>=4.0.0->ipywidgets>=7.0.0->vectorbt) (0.2.0)\n","Requirement already satisfied: matplotlib-inline in /usr/local/lib/python3.10/dist-packages (from ipython>=4.0.0->ipywidgets>=7.0.0->vectorbt) (0.1.7)\n","Requirement already satisfied: pexpect>4.3 in /usr/local/lib/python3.10/dist-packages (from ipython>=4.0.0->ipywidgets>=7.0.0->vectorbt) (4.9.0)\n","Requirement already satisfied: six>=1.5 in /usr/local/lib/python3.10/dist-packages (from python-dateutil->dateparser->vectorbt) (1.16.0)\n","Requirement already satisfied: notebook>=4.4.1 in /usr/local/lib/python3.10/dist-packages (from widgetsnbextension~=3.6.0->ipywidgets>=7.0.0->vectorbt) (6.5.5)\n","Requirement already satisfied: parso<0.9.0,>=0.8.3 in /usr/local/lib/python3.10/dist-packages (from jedi>=0.16->ipython>=4.0.0->ipywidgets>=7.0.0->vectorbt) (0.8.4)\n","Requirement already satisfied: jinja2 in /usr/local/lib/python3.10/dist-packages (from notebook>=4.4.1->widgetsnbextension~=3.6.0->ipywidgets>=7.0.0->vectorbt) (3.1.4)\n","Requirement already satisfied: pyzmq<25,>=17 in /usr/local/lib/python3.10/dist-packages (from notebook>=4.4.1->widgetsnbextension~=3.6.0->ipywidgets>=7.0.0->vectorbt) (24.0.1)\n","Requirement already satisfied: argon2-cffi in /usr/local/lib/python3.10/dist-packages (from notebook>=4.4.1->widgetsnbextension~=3.6.0->ipywidgets>=7.0.0->vectorbt) (23.1.0)\n","Requirement already satisfied: jupyter-core>=4.6.1 in /usr/local/lib/python3.10/dist-packages (from notebook>=4.4.1->widgetsnbextension~=3.6.0->ipywidgets>=7.0.0->vectorbt) (5.7.2)\n","Requirement already satisfied: nbformat in /usr/local/lib/python3.10/dist-packages (from notebook>=4.4.1->widgetsnbextension~=3.6.0->ipywidgets>=7.0.0->vectorbt) (5.10.4)\n","Requirement already satisfied: nbconvert>=5 in /usr/local/lib/python3.10/dist-packages (from notebook>=4.4.1->widgetsnbextension~=3.6.0->ipywidgets>=7.0.0->vectorbt) (6.5.4)\n","Requirement already satisfied: nest-asyncio>=1.5 in /usr/local/lib/python3.10/dist-packages (from notebook>=4.4.1->widgetsnbextension~=3.6.0->ipywidgets>=7.0.0->vectorbt) (1.6.0)\n","Requirement already satisfied: Send2Trash>=1.8.0 in /usr/local/lib/python3.10/dist-packages (from notebook>=4.4.1->widgetsnbextension~=3.6.0->ipywidgets>=7.0.0->vectorbt) (1.8.3)\n","Requirement already satisfied: terminado>=0.8.3 in /usr/local/lib/python3.10/dist-packages (from notebook>=4.4.1->widgetsnbextension~=3.6.0->ipywidgets>=7.0.0->vectorbt) (0.18.1)\n","Requirement already satisfied: prometheus-client in /usr/local/lib/python3.10/dist-packages (from notebook>=4.4.1->widgetsnbextension~=3.6.0->ipywidgets>=7.0.0->vectorbt) (0.20.0)\n","Requirement already satisfied: nbclassic>=0.4.7 in /usr/local/lib/python3.10/dist-packages (from notebook>=4.4.1->widgetsnbextension~=3.6.0->ipywidgets>=7.0.0->vectorbt) (1.1.0)\n","Requirement already satisfied: ptyprocess>=0.5 in /usr/local/lib/python3.10/dist-packages (from pexpect>4.3->ipython>=4.0.0->ipywidgets>=7.0.0->vectorbt) (0.7.0)\n","Requirement already satisfied: wcwidth in /usr/local/lib/python3.10/dist-packages (from prompt-toolkit!=3.0.0,!=3.0.1,<3.1.0,>=2.0.0->ipython>=4.0.0->ipywidgets>=7.0.0->vectorbt) (0.2.13)\n","Requirement already satisfied: platformdirs>=2.5 in /usr/local/lib/python3.10/dist-packages (from jupyter-core>=4.6.1->notebook>=4.4.1->widgetsnbextension~=3.6.0->ipywidgets>=7.0.0->vectorbt) (4.2.2)\n","Requirement already satisfied: notebook-shim>=0.2.3 in /usr/local/lib/python3.10/dist-packages (from nbclassic>=0.4.7->notebook>=4.4.1->widgetsnbextension~=3.6.0->ipywidgets>=7.0.0->vectorbt) (0.2.4)\n","Requirement already satisfied: lxml in /usr/local/lib/python3.10/dist-packages (from nbconvert>=5->notebook>=4.4.1->widgetsnbextension~=3.6.0->ipywidgets>=7.0.0->vectorbt) (4.9.4)\n","Requirement already satisfied: beautifulsoup4 in /usr/local/lib/python3.10/dist-packages (from nbconvert>=5->notebook>=4.4.1->widgetsnbextension~=3.6.0->ipywidgets>=7.0.0->vectorbt) (4.12.3)\n","Requirement already satisfied: bleach in /usr/local/lib/python3.10/dist-packages (from nbconvert>=5->notebook>=4.4.1->widgetsnbextension~=3.6.0->ipywidgets>=7.0.0->vectorbt) (6.1.0)\n","Requirement already satisfied: defusedxml in /usr/local/lib/python3.10/dist-packages (from nbconvert>=5->notebook>=4.4.1->widgetsnbextension~=3.6.0->ipywidgets>=7.0.0->vectorbt) (0.7.1)\n","Requirement already satisfied: entrypoints>=0.2.2 in /usr/local/lib/python3.10/dist-packages (from nbconvert>=5->notebook>=4.4.1->widgetsnbextension~=3.6.0->ipywidgets>=7.0.0->vectorbt) (0.4)\n","Requirement already satisfied: jupyterlab-pygments in /usr/local/lib/python3.10/dist-packages (from nbconvert>=5->notebook>=4.4.1->widgetsnbextension~=3.6.0->ipywidgets>=7.0.0->vectorbt) (0.3.0)\n","Requirement already satisfied: MarkupSafe>=2.0 in /usr/local/lib/python3.10/dist-packages (from nbconvert>=5->notebook>=4.4.1->widgetsnbextension~=3.6.0->ipywidgets>=7.0.0->vectorbt) (2.1.5)\n","Requirement already satisfied: mistune<2,>=0.8.1 in /usr/local/lib/python3.10/dist-packages (from nbconvert>=5->notebook>=4.4.1->widgetsnbextension~=3.6.0->ipywidgets>=7.0.0->vectorbt) (0.8.4)\n","Requirement already satisfied: nbclient>=0.5.0 in /usr/local/lib/python3.10/dist-packages (from nbconvert>=5->notebook>=4.4.1->widgetsnbextension~=3.6.0->ipywidgets>=7.0.0->vectorbt) (0.10.0)\n","Requirement already satisfied: pandocfilters>=1.4.1 in /usr/local/lib/python3.10/dist-packages (from nbconvert>=5->notebook>=4.4.1->widgetsnbextension~=3.6.0->ipywidgets>=7.0.0->vectorbt) (1.5.1)\n","Requirement already satisfied: tinycss2 in /usr/local/lib/python3.10/dist-packages (from nbconvert>=5->notebook>=4.4.1->widgetsnbextension~=3.6.0->ipywidgets>=7.0.0->vectorbt) (1.3.0)\n","Requirement already satisfied: fastjsonschema>=2.15 in /usr/local/lib/python3.10/dist-packages (from nbformat->notebook>=4.4.1->widgetsnbextension~=3.6.0->ipywidgets>=7.0.0->vectorbt) (2.20.0)\n","Requirement already satisfied: jsonschema>=2.6 in /usr/local/lib/python3.10/dist-packages (from nbformat->notebook>=4.4.1->widgetsnbextension~=3.6.0->ipywidgets>=7.0.0->vectorbt) (4.23.0)\n","Requirement already satisfied: argon2-cffi-bindings in /usr/local/lib/python3.10/dist-packages (from argon2-cffi->notebook>=4.4.1->widgetsnbextension~=3.6.0->ipywidgets>=7.0.0->vectorbt) (21.2.0)\n","Requirement already satisfied: attrs>=22.2.0 in /usr/local/lib/python3.10/dist-packages (from jsonschema>=2.6->nbformat->notebook>=4.4.1->widgetsnbextension~=3.6.0->ipywidgets>=7.0.0->vectorbt) (24.2.0)\n","Requirement already satisfied: jsonschema-specifications>=2023.03.6 in /usr/local/lib/python3.10/dist-packages (from jsonschema>=2.6->nbformat->notebook>=4.4.1->widgetsnbextension~=3.6.0->ipywidgets>=7.0.0->vectorbt) (2023.12.1)\n","Requirement already satisfied: referencing>=0.28.4 in /usr/local/lib/python3.10/dist-packages (from jsonschema>=2.6->nbformat->notebook>=4.4.1->widgetsnbextension~=3.6.0->ipywidgets>=7.0.0->vectorbt) (0.35.1)\n","Requirement already satisfied: rpds-py>=0.7.1 in /usr/local/lib/python3.10/dist-packages (from jsonschema>=2.6->nbformat->notebook>=4.4.1->widgetsnbextension~=3.6.0->ipywidgets>=7.0.0->vectorbt) (0.20.0)\n","Requirement already satisfied: jupyter-server<3,>=1.8 in /usr/local/lib/python3.10/dist-packages (from notebook-shim>=0.2.3->nbclassic>=0.4.7->notebook>=4.4.1->widgetsnbextension~=3.6.0->ipywidgets>=7.0.0->vectorbt) (1.24.0)\n","Requirement already satisfied: cffi>=1.0.1 in /usr/local/lib/python3.10/dist-packages (from argon2-cffi-bindings->argon2-cffi->notebook>=4.4.1->widgetsnbextension~=3.6.0->ipywidgets>=7.0.0->vectorbt) (1.17.0)\n","Requirement already satisfied: soupsieve>1.2 in /usr/local/lib/python3.10/dist-packages (from beautifulsoup4->nbconvert>=5->notebook>=4.4.1->widgetsnbextension~=3.6.0->ipywidgets>=7.0.0->vectorbt) (2.6)\n","Requirement already satisfied: webencodings in /usr/local/lib/python3.10/dist-packages (from bleach->nbconvert>=5->notebook>=4.4.1->widgetsnbextension~=3.6.0->ipywidgets>=7.0.0->vectorbt) (0.5.1)\n","Requirement already satisfied: pycparser in /usr/local/lib/python3.10/dist-packages (from cffi>=1.0.1->argon2-cffi-bindings->argon2-cffi->notebook>=4.4.1->widgetsnbextension~=3.6.0->ipywidgets>=7.0.0->vectorbt) (2.22)\n","Requirement already satisfied: anyio<4,>=3.1.0 in /usr/local/lib/python3.10/dist-packages (from jupyter-server<3,>=1.8->notebook-shim>=0.2.3->nbclassic>=0.4.7->notebook>=4.4.1->widgetsnbextension~=3.6.0->ipywidgets>=7.0.0->vectorbt) (3.7.1)\n","Requirement already satisfied: websocket-client in /usr/local/lib/python3.10/dist-packages (from jupyter-server<3,>=1.8->notebook-shim>=0.2.3->nbclassic>=0.4.7->notebook>=4.4.1->widgetsnbextension~=3.6.0->ipywidgets>=7.0.0->vectorbt) (1.8.0)\n","Requirement already satisfied: sniffio>=1.1 in /usr/local/lib/python3.10/dist-packages (from anyio<4,>=3.1.0->jupyter-server<3,>=1.8->notebook-shim>=0.2.3->nbclassic>=0.4.7->notebook>=4.4.1->widgetsnbextension~=3.6.0->ipywidgets>=7.0.0->vectorbt) (1.3.1)\n","Requirement already satisfied: exceptiongroup in /usr/local/lib/python3.10/dist-packages (from anyio<4,>=3.1.0->jupyter-server<3,>=1.8->notebook-shim>=0.2.3->nbclassic>=0.4.7->notebook>=4.4.1->widgetsnbextension~=3.6.0->ipywidgets>=7.0.0->vectorbt) (1.2.2)\n","Downloading numba-0.56.4-cp310-cp310-manylinux2014_x86_64.manylinux_2_17_x86_64.whl (3.5 MB)\n","\u001b[2K   \u001b[90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\u001b[0m \u001b[32m3.5/3.5 MB\u001b[0m \u001b[31m27.7 MB/s\u001b[0m eta \u001b[36m0:00:00\u001b[0m\n","\u001b[?25hDownloading numpy-1.23.5-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (17.1 MB)\n","\u001b[2K   \u001b[90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\u001b[0m \u001b[32m17.1/17.1 MB\u001b[0m \u001b[31m20.6 MB/s\u001b[0m eta \u001b[36m0:00:00\u001b[0m\n","\u001b[?25hDownloading dateparser-1.2.0-py2.py3-none-any.whl (294 kB)\n","\u001b[2K   \u001b[90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\u001b[0m \u001b[32m295.0/295.0 kB\u001b[0m \u001b[31m10.6 MB/s\u001b[0m eta \u001b[36m0:00:00\u001b[0m\n","\u001b[?25hDownloading dill-0.3.8-py3-none-any.whl (116 kB)\n","\u001b[2K   \u001b[90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\u001b[0m \u001b[32m116.3/116.3 kB\u001b[0m \u001b[31m5.9 MB/s\u001b[0m eta \u001b[36m0:00:00\u001b[0m\n","\u001b[?25hDownloading mypy_extensions-1.0.0-py3-none-any.whl (4.7 kB)\n","Downloading schedule-1.2.2-py3-none-any.whl (12 kB)\n","Downloading llvmlite-0.39.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (34.6 MB)\n","\u001b[2K   \u001b[90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\u001b[0m \u001b[32m34.6/34.6 MB\u001b[0m \u001b[31m12.1 MB/s\u001b[0m eta \u001b[36m0:00:00\u001b[0m\n","\u001b[?25hUsing cached jedi-0.19.1-py2.py3-none-any.whl (1.6 MB)\n","Building wheels for collected packages: vectorbt\n","  Building wheel for vectorbt (setup.py) ... \u001b[?25l\u001b[?25hdone\n","  Created wheel for vectorbt: filename=vectorbt-0.26.2-py3-none-any.whl size=527327 sha256=4c02b28a4fb3e820a75d94a6e98214c05de6ab4d3980d889cf9910ef977a72ee\n","  Stored in directory: /root/.cache/pip/wheels/35/a3/d2/ae1a8cbf659fffc7d1890123df1a7fa2e7f6df587c1dca71cd\n","Successfully built vectorbt\n","Installing collected packages: schedule, numpy, mypy_extensions, llvmlite, jedi, dill, numba, dateparser, vectorbt\n","  Attempting uninstall: numpy\n","    Found existing installation: numpy 1.26.4\n","    Uninstalling numpy-1.26.4:\n","      Successfully uninstalled numpy-1.26.4\n","  Attempting uninstall: llvmlite\n","    Found existing installation: llvmlite 0.43.0\n","    Uninstalling llvmlite-0.43.0:\n","      Successfully uninstalled llvmlite-0.43.0\n","  Attempting uninstall: numba\n","    Found existing installation: numba 0.60.0\n","    Uninstalling numba-0.60.0:\n","      Successfully uninstalled numba-0.60.0\n","\u001b[31mERROR: pip's dependency resolver does not currently take into account all the packages that are installed. This behaviour is the source of the following dependency conflicts.\n","albucore 0.0.14 requires numpy>=1.24, but you have numpy 1.23.5 which is incompatible.\n","albumentations 1.4.14 requires numpy>=1.24.4, but you have numpy 1.23.5 which is incompatible.\n","chex 0.1.86 requires numpy>=1.24.1, but you have numpy 1.23.5 which is incompatible.\n","cudf-cu12 24.4.1 requires numba>=0.57, but you have numba 0.56.4 which is incompatible.\n","pandas-stubs 2.1.4.231227 requires numpy>=1.26.0; python_version < \"3.13\", but you have numpy 1.23.5 which is incompatible.\n","rmm-cu12 24.4.0 requires numba>=0.57, but you have numba 0.56.4 which is incompatible.\u001b[0m\u001b[31m\n","\u001b[0mSuccessfully installed dateparser-1.2.0 dill-0.3.8 jedi-0.19.1 llvmlite-0.39.1 mypy_extensions-1.0.0 numba-0.56.4 numpy-1.23.5 schedule-1.2.2 vectorbt-0.26.2\n"]},{"output_type":"display_data","data":{"application/vnd.colab-display-data+json":{"pip_warning":{"packages":["numpy"]},"id":"17e377073d994410a2dafed303186b21"}},"metadata":{}},{"output_type":"stream","name":"stdout","text":["Collecting condacolab\n","  Downloading condacolab-0.1.9-py3-none-any.whl.metadata (5.6 kB)\n","Downloading condacolab-0.1.9-py3-none-any.whl (7.2 kB)\n","Installing collected packages: condacolab\n","Successfully installed condacolab-0.1.9\n","⏬ Downloading https://github.com/conda-forge/miniforge/releases/download/23.11.0-0/Mambaforge-23.11.0-0-Linux-x86_64.sh...\n","📦 Installing...\n","📌 Adjusting configuration...\n","🩹 Patching environment...\n","⏲ Done in 0:00:16\n","🔁 Restarting kernel...\n","Channels:\n"," - conda-forge\n","Platform: linux-64\n","Collecting package metadata (repodata.json): - \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\b| \b\bdone\n","Solving environment: - \b\b\\ \b\b| \b\bdone\n","\n","\n","==> WARNING: A newer version of conda exists. <==\n","    current version: 23.11.0\n","    latest version: 24.7.1\n","\n","Please update conda by running\n","\n","    $ conda update -n base -c conda-forge conda\n","\n","\n","\n","## Package Plan ##\n","\n","  environment location: /usr/local\n","\n","  added / updated specs:\n","    - ta-lib\n","\n","\n","The following packages will be downloaded:\n","\n","    package                    |            build\n","    ---------------------------|-----------------\n","    ca-certificates-2024.8.30  |       hbcca054_0         155 KB  conda-forge\n","    certifi-2024.8.30          |     pyhd8ed1ab_0         160 KB  conda-forge\n","    libblas-3.9.0              |23_linux64_openblas          15 KB  conda-forge\n","    libcblas-3.9.0             |23_linux64_openblas          14 KB  conda-forge\n","    libgcc-14.1.0              |       h77fa898_1         827 KB  conda-forge\n","    libgcc-ng-14.1.0           |       h69a702a_1          51 KB  conda-forge\n","    libgfortran-14.1.0         |       h69a702a_1          51 KB  conda-forge\n","    libgfortran-ng-14.1.0      |       h69a702a_1          51 KB  conda-forge\n","    libgfortran5-14.1.0        |       hc5f4f2c_1         1.4 MB  conda-forge\n","    libgomp-14.1.0             |       h77fa898_1         449 KB  conda-forge\n","    liblapack-3.9.0            |23_linux64_openblas          14 KB  conda-forge\n","    libopenblas-0.3.27         |pthreads_hac2b453_1         5.3 MB  conda-forge\n","    libta-lib-0.4.0            |       hd590300_2         310 KB  conda-forge\n","    numpy-1.26.4               |  py310hb13e2d6_0         6.7 MB  conda-forge\n","    openssl-3.3.2              |       hb9d3cd8_0         2.8 MB  conda-forge\n","    ta-lib-0.4.32              |  py310h8a78493_0         353 KB  conda-forge\n","    ------------------------------------------------------------\n","                                           Total:        18.5 MB\n","\n","The following NEW packages will be INSTALLED:\n","\n","  libblas            conda-forge/linux-64::libblas-3.9.0-23_linux64_openblas \n","  libcblas           conda-forge/linux-64::libcblas-3.9.0-23_linux64_openblas \n","  libgcc             conda-forge/linux-64::libgcc-14.1.0-h77fa898_1 \n","  libgfortran        conda-forge/linux-64::libgfortran-14.1.0-h69a702a_1 \n","  libgfortran-ng     conda-forge/linux-64::libgfortran-ng-14.1.0-h69a702a_1 \n","  libgfortran5       conda-forge/linux-64::libgfortran5-14.1.0-hc5f4f2c_1 \n","  liblapack          conda-forge/linux-64::liblapack-3.9.0-23_linux64_openblas \n","  libopenblas        conda-forge/linux-64::libopenblas-0.3.27-pthreads_hac2b453_1 \n","  libta-lib          conda-forge/linux-64::libta-lib-0.4.0-hd590300_2 \n","  numpy              conda-forge/linux-64::numpy-1.26.4-py310hb13e2d6_0 \n","  ta-lib             conda-forge/linux-64::ta-lib-0.4.32-py310h8a78493_0 \n","\n","The following packages will be UPDATED:\n","\n","  ca-certificates                     2023.11.17-hbcca054_0 --> 2024.8.30-hbcca054_0 \n","  certifi                           2023.11.17-pyhd8ed1ab_0 --> 2024.8.30-pyhd8ed1ab_0 \n","  libgcc-ng                               13.2.0-h807b86a_3 --> 14.1.0-h69a702a_1 \n","  libgomp                                 13.2.0-h807b86a_3 --> 14.1.0-h77fa898_1 \n","  openssl                                  3.2.0-hd590300_1 --> 3.3.2-hb9d3cd8_0 \n","\n","\n","\n","Downloading and Extracting Packages:\n","numpy-1.26.4         | 6.7 MB    | :   0% 0/1 [00:00<?, ?it/s]\n","libopenblas-0.3.27   | 5.3 MB    | :   0% 0/1 [00:00<?, ?it/s]\u001b[A\n","\n","openssl-3.3.2        | 2.8 MB    | :   0% 0/1 [00:00<?, ?it/s]\u001b[A\u001b[A\n","\n","\n","libgfortran5-14.1.0  | 1.4 MB    | :   0% 0/1 [00:00<?, ?it/s]\u001b[A\u001b[A\u001b[A\n","\n","\n","\n","libgcc-14.1.0        | 827 KB    | :   0% 0/1 [00:00<?, ?it/s]\u001b[A\u001b[A\u001b[A\u001b[A\n","\n","\n","\n","\n","libgomp-14.1.0       | 449 KB    | :   0% 0/1 [00:00<?, ?it/s]\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\n","\n","\n","\n","\n","\n","ta-lib-0.4.32        | 353 KB    | :   0% 0/1 [00:00<?, ?it/s]\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\n","\n","\n","\n","\n","\n","\n","libta-lib-0.4.0      | 310 KB    | :   0% 0/1 [00:00<?, ?it/s]\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\n","\n","\n","\n","\n","\n","\n","\n","certifi-2024.8.30    | 160 KB    | :   0% 0/1 [00:00<?, ?it/s]\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\n","\n","\n","\n","\n","\n","\n","\n","\n","ca-certificates-2024 | 155 KB    | :   0% 0/1 [00:00<?, ?it/s]\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","libgfortran-ng-14.1. | 51 KB     | :   0% 0/1 [00:00<?, ?it/s]\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","libgcc-ng-14.1.0     | 51 KB     | :   0% 0/1 [00:00<?, ?it/s]\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","libgfortran-14.1.0   | 51 KB     | :   0% 0/1 [00:00<?, ?it/s]\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","libblas-3.9.0        | 15 KB     | :   0% 0/1 [00:00<?, ?it/s]\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","liblapack-3.9.0      | 14 KB     | :   0% 0/1 [00:00<?, ?it/s]\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","numpy-1.26.4         | 6.7 MB    | :   0% 0.002337542641177788/1 [00:00<00:53, 53.60s/it]\n","libopenblas-0.3.27   | 5.3 MB    | :   0% 0.0029451454084654595/1 [00:00<00:45, 45.45s/it]\u001b[A\n","\n","\n","libgfortran5-14.1.0  | 1.4 MB    | :   1% 0.011222386688758914/1 [00:00<00:12, 12.63s/it]\u001b[A\u001b[A\u001b[A\n","\n","openssl-3.3.2        | 2.8 MB    | :   1% 0.005665696909421814/1 [00:00<00:27, 27.24s/it]\u001b[A\u001b[A\n","\n","\n","\n","numpy-1.26.4         | 6.7 MB    | :  29% 0.287517744864868/1 [00:00<00:00,  1.52it/s]   \n","libopenblas-0.3.27   | 5.3 MB    | :  47% 0.474168410762939/1 [00:00<00:00,  2.44it/s]    \u001b[A\n","\n","openssl-3.3.2        | 2.8 MB    | :  96% 0.9631684746017085/1 [00:00<00:00,  4.59it/s]  \u001b[A\u001b[A\n","\n","\n","\n","\n","libgomp-14.1.0       | 449 KB    | :   4% 0.03560051975368195/1 [00:00<00:08,  8.65s/it]\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\n","\n","\n","\n","\n","\n","numpy-1.26.4         | 6.7 MB    | :  88% 0.8789160330828484/1 [00:00<00:00,  3.10it/s]\n","\n","\n","\n","\n","\n","\n","libta-lib-0.4.0      | 310 KB    | :   5% 0.05156449653488094/1 [00:00<00:07,  7.47s/it]\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\n","\n","\n","\n","\n","\n","\n","\n","certifi-2024.8.30    | 160 KB    | :  10% 0.10005373980165128/1 [00:00<00:03,  4.21s/it]\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\n","\n","\n","\n","\n","\n","\n","\n","\n","ca-certificates-2024 | 155 KB    | :  10% 0.10304208096702577/1 [00:00<00:03,  4.11s/it]\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","libgfortran-ng-14.1. | 51 KB     | :  31% 0.3137975944227381/1 [00:00<00:01,  1.46s/it]\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","libgfortran-14.1.0   | 51 KB     | :  31% 0.31421886387173487/1 [00:00<00:01,  1.54s/it]\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","libgcc-ng-14.1.0     | 51 KB     | :  31% 0.31405022043319913/1 [00:00<00:01,  1.57s/it]\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","libblas-3.9.0        | 15 KB     | : 100% 1.0/1 [00:00<00:00,  1.94it/s]\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\n","\n","\n","\n","libgcc-14.1.0        | 827 KB    | : 100% 1.0/1 [00:00<00:00,  2.01it/s]                \u001b[A\u001b[A\u001b[A\u001b[A\n","\n","\n","\n","libgcc-14.1.0        | 827 KB    | : 100% 1.0/1 [00:00<00:00,  2.01it/s]\u001b[A\u001b[A\u001b[A\u001b[A\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","libcblas-3.9.0       | 14 KB     | : 100% 1.0/1 [00:00<00:00,  1.85it/s]\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","liblapack-3.9.0      | 14 KB     | : 100% 1.0/1 [00:00<00:00,  1.84it/s]\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\n","\n","\n","libgfortran5-14.1.0  | 1.4 MB    | : 100% 1.0/1 [00:00<00:00,  1.80it/s]                 \u001b[A\u001b[A\u001b[A\n","\n","\n","libgfortran5-14.1.0  | 1.4 MB    | : 100% 1.0/1 [00:00<00:00,  1.80it/s]\u001b[A\u001b[A\u001b[A\n","\n","\n","\n","\n","libgomp-14.1.0       | 449 KB    | : 100% 1.0/1 [00:00<00:00,  1.78it/s]                \u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\n","\n","\n","\n","\n","libgomp-14.1.0       | 449 KB    | : 100% 1.0/1 [00:00<00:00,  1.78it/s]\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\n","\n","\n","\n","\n","\n","ta-lib-0.4.32        | 353 KB    | : 100% 1.0/1 [00:00<00:00,  1.67it/s]                \u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\n","\n","\n","\n","\n","\n","ta-lib-0.4.32        | 353 KB    | : 100% 1.0/1 [00:00<00:00,  1.67it/s]\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\n","\n","\n","\n","\n","\n","\n","libta-lib-0.4.0      | 310 KB    | : 100% 1.0/1 [00:00<00:00,  1.62it/s]                \u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\n","\n","\n","\n","\n","\n","\n","libta-lib-0.4.0      | 310 KB    | : 100% 1.0/1 [00:00<00:00,  1.62it/s]\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\n","\n","\n","\n","\n","\n","\n","\n","certifi-2024.8.30    | 160 KB    | : 100% 1.0/1 [00:00<00:00,  1.57it/s]                \u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\n","\n","\n","\n","\n","\n","\n","\n","certifi-2024.8.30    | 160 KB    | : 100% 1.0/1 [00:00<00:00,  1.57it/s]\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\n","\n","\n","\n","\n","\n","\n","\n","\n","ca-certificates-2024 | 155 KB    | : 100% 1.0/1 [00:00<00:00,  1.53it/s]                \u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\n","\n","\n","\n","\n","\n","\n","\n","\n","ca-certificates-2024 | 155 KB    | : 100% 1.0/1 [00:00<00:00,  1.53it/s]\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","libgfortran-ng-14.1. | 51 KB     | : 100% 1.0/1 [00:00<00:00,  1.32it/s]               \u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","libgfortran-ng-14.1. | 51 KB     | : 100% 1.0/1 [00:00<00:00,  1.32it/s]\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\n","\n","openssl-3.3.2        | 2.8 MB    | : 100% 1.0/1 [00:00<00:00,  4.59it/s]               \u001b[A\u001b[A\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","libgfortran-14.1.0   | 51 KB     | : 100% 1.0/1 [00:00<00:00,  1.15it/s]                \u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","libgfortran-14.1.0   | 51 KB     | : 100% 1.0/1 [00:00<00:00,  1.15it/s]\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","libgcc-ng-14.1.0     | 51 KB     | : 100% 1.0/1 [00:00<00:00,  1.08it/s]                \u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","libgcc-ng-14.1.0     | 51 KB     | : 100% 1.0/1 [00:00<00:00,  1.08it/s]\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\n","libopenblas-0.3.27   | 5.3 MB    | : 100% 1.0/1 [00:01<00:00,  1.43s/it]              \u001b[A\n","libopenblas-0.3.27   | 5.3 MB    | : 100% 1.0/1 [00:01<00:00,  1.43s/it]\u001b[A\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","libblas-3.9.0        | 15 KB     | : 100% 1.0/1 [00:01<00:00,  1.94it/s]\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","libcblas-3.9.0       | 14 KB     | : 100% 1.0/1 [00:01<00:00,  1.85it/s]\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","                                                                        \n","                                                                        \u001b[A\n","\n","                                                                        \u001b[A\u001b[A\n","\n","\n","                                                                        \u001b[A\u001b[A\u001b[A\n","\n","\n","\n","                                                                        \u001b[A\u001b[A\u001b[A\u001b[A\n","\n","\n","\n","\n","                                                                        \u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\n","\n","\n","\n","\n","\n","                                                                        \u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\n","\n","\n","\n","\n","\n","\n","                                                                        \u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\n","\n","\n","\n","\n","\n","\n","\n","                                                                        \u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\n","\n","\n","\n","\n","\n","\n","\n","\n","                                                                        \u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","                                                                        \u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","                                                                        \u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","                                                                        \u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","                                                                        \u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","                                                                        \u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","                                                                        \u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\u001b[A\n","Preparing transaction: - \b\bdone\n","Verifying transaction: | \b\b/ \b\b- \b\bdone\n","Executing transaction: | \b\b/ \b\b- \b\b\\ \b\b| \b\b/ \b\b- \b\b\\ \b\bdone\n","Collecting vectorbt\n","  Using cached vectorbt-0.26.2-py3-none-any.whl\n","Requirement already satisfied: numpy<2.0.0,>=1.16.5 in /usr/local/lib/python3.10/site-packages (from vectorbt) (1.26.4)\n","Collecting pandas (from vectorbt)\n","  Downloading pandas-2.2.2-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (19 kB)\n","Collecting scipy (from vectorbt)\n","  Downloading scipy-1.14.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (60 kB)\n","\u001b[2K     \u001b[90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\u001b[0m \u001b[32m60.8/60.8 kB\u001b[0m \u001b[31m1.9 MB/s\u001b[0m eta \u001b[36m0:00:00\u001b[0m\n","\u001b[?25hCollecting matplotlib (from vectorbt)\n","  Downloading matplotlib-3.9.2-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (11 kB)\n","Collecting plotly>=4.12.0 (from vectorbt)\n","  Downloading plotly-5.24.0-py3-none-any.whl.metadata (7.3 kB)\n","Collecting ipywidgets>=7.0.0 (from vectorbt)\n","  Downloading ipywidgets-8.1.5-py3-none-any.whl.metadata (2.3 kB)\n","Collecting dill (from vectorbt)\n","  Using cached dill-0.3.8-py3-none-any.whl.metadata (10 kB)\n","Requirement already satisfied: tqdm in /usr/local/lib/python3.10/site-packages (from vectorbt) (4.66.1)\n","Collecting dateparser (from vectorbt)\n","  Using cached dateparser-1.2.0-py2.py3-none-any.whl.metadata (28 kB)\n","Collecting imageio (from vectorbt)\n","  Downloading imageio-2.35.1-py3-none-any.whl.metadata (4.9 kB)\n","Collecting scikit-learn (from vectorbt)\n","  Downloading scikit_learn-1.5.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (12 kB)\n","Collecting schedule (from vectorbt)\n","  Using cached schedule-1.2.2-py3-none-any.whl.metadata (3.8 kB)\n","Requirement already satisfied: requests in /usr/local/lib/python3.10/site-packages (from vectorbt) (2.31.0)\n","Collecting pytz (from vectorbt)\n","  Using cached pytz-2024.1-py2.py3-none-any.whl.metadata (22 kB)\n","Collecting mypy-extensions (from vectorbt)\n","  Using cached mypy_extensions-1.0.0-py3-none-any.whl.metadata (1.1 kB)\n","Collecting numba<0.57.0,>=0.56.0 (from vectorbt)\n","  Using cached numba-0.56.4-cp310-cp310-manylinux2014_x86_64.manylinux_2_17_x86_64.whl.metadata (2.8 kB)\n","Collecting comm>=0.1.3 (from ipywidgets>=7.0.0->vectorbt)\n","  Downloading comm-0.2.2-py3-none-any.whl.metadata (3.7 kB)\n","Collecting ipython>=6.1.0 (from ipywidgets>=7.0.0->vectorbt)\n","  Downloading ipython-8.27.0-py3-none-any.whl.metadata (5.0 kB)\n","Collecting traitlets>=4.3.1 (from ipywidgets>=7.0.0->vectorbt)\n","  Downloading traitlets-5.14.3-py3-none-any.whl.metadata (10 kB)\n","Collecting widgetsnbextension~=4.0.12 (from ipywidgets>=7.0.0->vectorbt)\n","  Downloading widgetsnbextension-4.0.13-py3-none-any.whl.metadata (1.6 kB)\n","Collecting jupyterlab-widgets~=3.0.12 (from ipywidgets>=7.0.0->vectorbt)\n","  Using cached jupyterlab_widgets-3.0.13-py3-none-any.whl.metadata (4.1 kB)\n","Collecting llvmlite<0.40,>=0.39.0dev0 (from numba<0.57.0,>=0.56.0->vectorbt)\n","  Using cached llvmlite-0.39.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (4.7 kB)\n","Collecting numpy<2.0.0,>=1.16.5 (from vectorbt)\n","  Using cached numpy-1.23.5-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (2.3 kB)\n","Requirement already satisfied: setuptools in /usr/local/lib/python3.10/site-packages (from numba<0.57.0,>=0.56.0->vectorbt) (68.2.2)\n","Collecting tenacity>=6.2.0 (from plotly>=4.12.0->vectorbt)\n","  Using cached tenacity-9.0.0-py3-none-any.whl.metadata (1.2 kB)\n","Requirement already satisfied: packaging in /usr/local/lib/python3.10/site-packages (from plotly>=4.12.0->vectorbt) (23.2)\n","Collecting python-dateutil (from dateparser->vectorbt)\n","  Downloading python_dateutil-2.9.0.post0-py2.py3-none-any.whl.metadata (8.4 kB)\n","Collecting regex!=2019.02.19,!=2021.8.27 (from dateparser->vectorbt)\n","  Downloading regex-2024.7.24-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (40 kB)\n","\u001b[2K     \u001b[90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\u001b[0m \u001b[32m40.5/40.5 kB\u001b[0m \u001b[31m2.5 MB/s\u001b[0m eta \u001b[36m0:00:00\u001b[0m\n","\u001b[?25hCollecting tzlocal (from dateparser->vectorbt)\n","  Using cached tzlocal-5.2-py3-none-any.whl.metadata (7.8 kB)\n","Collecting pillow>=8.3.2 (from imageio->vectorbt)\n","  Downloading pillow-10.4.0-cp310-cp310-manylinux_2_28_x86_64.whl.metadata (9.2 kB)\n","Collecting contourpy>=1.0.1 (from matplotlib->vectorbt)\n","  Using cached contourpy-1.3.0-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (5.4 kB)\n","Collecting cycler>=0.10 (from matplotlib->vectorbt)\n","  Using cached cycler-0.12.1-py3-none-any.whl.metadata (3.8 kB)\n","Collecting fonttools>=4.22.0 (from matplotlib->vectorbt)\n","  Using cached fonttools-4.53.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (162 kB)\n","Collecting kiwisolver>=1.3.1 (from matplotlib->vectorbt)\n","  Downloading kiwisolver-1.4.7-cp310-cp310-manylinux_2_12_x86_64.manylinux2010_x86_64.whl.metadata (6.3 kB)\n","Collecting pyparsing>=2.3.1 (from matplotlib->vectorbt)\n","  Using cached pyparsing-3.1.4-py3-none-any.whl.metadata (5.1 kB)\n","Collecting tzdata>=2022.7 (from pandas->vectorbt)\n","  Using cached tzdata-2024.1-py2.py3-none-any.whl.metadata (1.4 kB)\n","Requirement already satisfied: charset-normalizer<4,>=2 in /usr/local/lib/python3.10/site-packages (from requests->vectorbt) (3.3.2)\n","Requirement already satisfied: idna<4,>=2.5 in /usr/local/lib/python3.10/site-packages (from requests->vectorbt) (3.6)\n","Requirement already satisfied: urllib3<3,>=1.21.1 in /usr/local/lib/python3.10/site-packages (from requests->vectorbt) (2.1.0)\n","Requirement already satisfied: certifi>=2017.4.17 in /usr/local/lib/python3.10/site-packages (from requests->vectorbt) (2024.8.30)\n","Collecting joblib>=1.2.0 (from scikit-learn->vectorbt)\n","  Using cached joblib-1.4.2-py3-none-any.whl.metadata (5.4 kB)\n","Collecting threadpoolctl>=3.1.0 (from scikit-learn->vectorbt)\n","  Using cached threadpoolctl-3.5.0-py3-none-any.whl.metadata (13 kB)\n","Collecting decorator (from ipython>=6.1.0->ipywidgets>=7.0.0->vectorbt)\n","  Downloading decorator-5.1.1-py3-none-any.whl.metadata (4.0 kB)\n","Collecting jedi>=0.16 (from ipython>=6.1.0->ipywidgets>=7.0.0->vectorbt)\n","  Using cached jedi-0.19.1-py2.py3-none-any.whl.metadata (22 kB)\n","Collecting matplotlib-inline (from ipython>=6.1.0->ipywidgets>=7.0.0->vectorbt)\n","  Using cached matplotlib_inline-0.1.7-py3-none-any.whl.metadata (3.9 kB)\n","Collecting prompt-toolkit<3.1.0,>=3.0.41 (from ipython>=6.1.0->ipywidgets>=7.0.0->vectorbt)\n","  Using cached prompt_toolkit-3.0.47-py3-none-any.whl.metadata (6.4 kB)\n","Collecting pygments>=2.4.0 (from ipython>=6.1.0->ipywidgets>=7.0.0->vectorbt)\n","  Downloading pygments-2.18.0-py3-none-any.whl.metadata (2.5 kB)\n","Collecting stack-data (from ipython>=6.1.0->ipywidgets>=7.0.0->vectorbt)\n","  Downloading stack_data-0.6.3-py3-none-any.whl.metadata (18 kB)\n","Collecting exceptiongroup (from ipython>=6.1.0->ipywidgets>=7.0.0->vectorbt)\n","  Using cached exceptiongroup-1.2.2-py3-none-any.whl.metadata (6.6 kB)\n","Collecting typing-extensions>=4.6 (from ipython>=6.1.0->ipywidgets>=7.0.0->vectorbt)\n","  Using cached typing_extensions-4.12.2-py3-none-any.whl.metadata (3.0 kB)\n","Collecting pexpect>4.3 (from ipython>=6.1.0->ipywidgets>=7.0.0->vectorbt)\n","  Using cached pexpect-4.9.0-py2.py3-none-any.whl.metadata (2.5 kB)\n","Collecting six>=1.5 (from python-dateutil->dateparser->vectorbt)\n","  Using cached six-1.16.0-py2.py3-none-any.whl.metadata (1.8 kB)\n","Collecting parso<0.9.0,>=0.8.3 (from jedi>=0.16->ipython>=6.1.0->ipywidgets>=7.0.0->vectorbt)\n","  Using cached parso-0.8.4-py2.py3-none-any.whl.metadata (7.7 kB)\n","Collecting ptyprocess>=0.5 (from pexpect>4.3->ipython>=6.1.0->ipywidgets>=7.0.0->vectorbt)\n","  Using cached ptyprocess-0.7.0-py2.py3-none-any.whl.metadata (1.3 kB)\n","Collecting wcwidth (from prompt-toolkit<3.1.0,>=3.0.41->ipython>=6.1.0->ipywidgets>=7.0.0->vectorbt)\n","  Using cached wcwidth-0.2.13-py2.py3-none-any.whl.metadata (14 kB)\n","Collecting executing>=1.2.0 (from stack-data->ipython>=6.1.0->ipywidgets>=7.0.0->vectorbt)\n","  Downloading executing-2.1.0-py2.py3-none-any.whl.metadata (8.9 kB)\n","Collecting asttokens>=2.1.0 (from stack-data->ipython>=6.1.0->ipywidgets>=7.0.0->vectorbt)\n","  Downloading asttokens-2.4.1-py2.py3-none-any.whl.metadata (5.2 kB)\n","Collecting pure-eval (from stack-data->ipython>=6.1.0->ipywidgets>=7.0.0->vectorbt)\n","  Downloading pure_eval-0.2.3-py3-none-any.whl.metadata (6.3 kB)\n","Downloading ipywidgets-8.1.5-py3-none-any.whl (139 kB)\n","\u001b[2K   \u001b[90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\u001b[0m \u001b[32m139.8/139.8 kB\u001b[0m \u001b[31m5.8 MB/s\u001b[0m eta \u001b[36m0:00:00\u001b[0m\n","\u001b[?25hUsing cached numba-0.56.4-cp310-cp310-manylinux2014_x86_64.manylinux_2_17_x86_64.whl (3.5 MB)\n","Using cached numpy-1.23.5-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (17.1 MB)\n","Downloading plotly-5.24.0-py3-none-any.whl (19.0 MB)\n","\u001b[2K   \u001b[90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\u001b[0m \u001b[32m19.0/19.0 MB\u001b[0m \u001b[31m79.7 MB/s\u001b[0m eta \u001b[36m0:00:00\u001b[0m\n","\u001b[?25hUsing cached dateparser-1.2.0-py2.py3-none-any.whl (294 kB)\n","Using cached dill-0.3.8-py3-none-any.whl (116 kB)\n","Downloading imageio-2.35.1-py3-none-any.whl (315 kB)\n","\u001b[2K   \u001b[90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\u001b[0m \u001b[32m315.4/315.4 kB\u001b[0m \u001b[31m20.8 MB/s\u001b[0m eta \u001b[36m0:00:00\u001b[0m\n","\u001b[?25hDownloading matplotlib-3.9.2-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (8.3 MB)\n","\u001b[2K   \u001b[90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\u001b[0m \u001b[32m8.3/8.3 MB\u001b[0m \u001b[31m76.8 MB/s\u001b[0m eta \u001b[36m0:00:00\u001b[0m\n","\u001b[?25hUsing cached mypy_extensions-1.0.0-py3-none-any.whl (4.7 kB)\n","Downloading pandas-2.2.2-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (13.0 MB)\n","\u001b[2K   \u001b[90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\u001b[0m \u001b[32m13.0/13.0 MB\u001b[0m \u001b[31m86.0 MB/s\u001b[0m eta \u001b[36m0:00:00\u001b[0m\n","\u001b[?25hUsing cached pytz-2024.1-py2.py3-none-any.whl (505 kB)\n","Using cached schedule-1.2.2-py3-none-any.whl (12 kB)\n","Downloading scikit_learn-1.5.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (13.4 MB)\n","\u001b[2K   \u001b[90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\u001b[0m \u001b[32m13.4/13.4 MB\u001b[0m \u001b[31m91.4 MB/s\u001b[0m eta \u001b[36m0:00:00\u001b[0m\n","\u001b[?25hDownloading scipy-1.14.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (41.2 MB)\n","\u001b[2K   \u001b[90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\u001b[0m \u001b[32m41.2/41.2 MB\u001b[0m \u001b[31m10.8 MB/s\u001b[0m eta \u001b[36m0:00:00\u001b[0m\n","\u001b[?25hDownloading comm-0.2.2-py3-none-any.whl (7.2 kB)\n","Using cached contourpy-1.3.0-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (322 kB)\n","Using cached cycler-0.12.1-py3-none-any.whl (8.3 kB)\n","Using cached fonttools-4.53.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (4.6 MB)\n","Downloading ipython-8.27.0-py3-none-any.whl (818 kB)\n","\u001b[2K   \u001b[90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\u001b[0m \u001b[32m819.0/819.0 kB\u001b[0m \u001b[31m37.4 MB/s\u001b[0m eta \u001b[36m0:00:00\u001b[0m\n","\u001b[?25hUsing cached joblib-1.4.2-py3-none-any.whl (301 kB)\n","Using cached jupyterlab_widgets-3.0.13-py3-none-any.whl (214 kB)\n","Downloading kiwisolver-1.4.7-cp310-cp310-manylinux_2_12_x86_64.manylinux2010_x86_64.whl (1.6 MB)\n","\u001b[2K   \u001b[90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\u001b[0m \u001b[32m1.6/1.6 MB\u001b[0m \u001b[31m51.5 MB/s\u001b[0m eta \u001b[36m0:00:00\u001b[0m\n","\u001b[?25hUsing cached llvmlite-0.39.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (34.6 MB)\n","Downloading pillow-10.4.0-cp310-cp310-manylinux_2_28_x86_64.whl (4.5 MB)\n","\u001b[2K   \u001b[90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\u001b[0m \u001b[32m4.5/4.5 MB\u001b[0m \u001b[31m66.8 MB/s\u001b[0m eta \u001b[36m0:00:00\u001b[0m\n","\u001b[?25hUsing cached pyparsing-3.1.4-py3-none-any.whl (104 kB)\n","Downloading python_dateutil-2.9.0.post0-py2.py3-none-any.whl (229 kB)\n","\u001b[2K   \u001b[90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\u001b[0m \u001b[32m229.9/229.9 kB\u001b[0m \u001b[31m12.4 MB/s\u001b[0m eta \u001b[36m0:00:00\u001b[0m\n","\u001b[?25hDownloading regex-2024.7.24-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (776 kB)\n","\u001b[2K   \u001b[90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\u001b[0m \u001b[32m776.5/776.5 kB\u001b[0m \u001b[31m35.9 MB/s\u001b[0m eta \u001b[36m0:00:00\u001b[0m\n","\u001b[?25hUsing cached tenacity-9.0.0-py3-none-any.whl (28 kB)\n","Using cached threadpoolctl-3.5.0-py3-none-any.whl (18 kB)\n","Downloading traitlets-5.14.3-py3-none-any.whl (85 kB)\n","\u001b[2K   \u001b[90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\u001b[0m \u001b[32m85.4/85.4 kB\u001b[0m \u001b[31m5.3 MB/s\u001b[0m eta \u001b[36m0:00:00\u001b[0m\n","\u001b[?25hUsing cached tzdata-2024.1-py2.py3-none-any.whl (345 kB)\n","Downloading widgetsnbextension-4.0.13-py3-none-any.whl (2.3 MB)\n","\u001b[2K   \u001b[90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\u001b[0m \u001b[32m2.3/2.3 MB\u001b[0m \u001b[31m50.5 MB/s\u001b[0m eta \u001b[36m0:00:00\u001b[0m\n","\u001b[?25hUsing cached tzlocal-5.2-py3-none-any.whl (17 kB)\n","Using cached jedi-0.19.1-py2.py3-none-any.whl (1.6 MB)\n","Using cached pexpect-4.9.0-py2.py3-none-any.whl (63 kB)\n","Using cached prompt_toolkit-3.0.47-py3-none-any.whl (386 kB)\n","Downloading pygments-2.18.0-py3-none-any.whl (1.2 MB)\n","\u001b[2K   \u001b[90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\u001b[0m \u001b[32m1.2/1.2 MB\u001b[0m \u001b[31m40.8 MB/s\u001b[0m eta \u001b[36m0:00:00\u001b[0m\n","\u001b[?25hUsing cached six-1.16.0-py2.py3-none-any.whl (11 kB)\n","Using cached typing_extensions-4.12.2-py3-none-any.whl (37 kB)\n","Downloading decorator-5.1.1-py3-none-any.whl (9.1 kB)\n","Using cached exceptiongroup-1.2.2-py3-none-any.whl (16 kB)\n","Using cached matplotlib_inline-0.1.7-py3-none-any.whl (9.9 kB)\n","Downloading stack_data-0.6.3-py3-none-any.whl (24 kB)\n","Downloading asttokens-2.4.1-py2.py3-none-any.whl (27 kB)\n","Downloading executing-2.1.0-py2.py3-none-any.whl (25 kB)\n","Using cached parso-0.8.4-py2.py3-none-any.whl (103 kB)\n","Using cached ptyprocess-0.7.0-py2.py3-none-any.whl (13 kB)\n","Downloading pure_eval-0.2.3-py3-none-any.whl (11 kB)\n","Using cached wcwidth-0.2.13-py2.py3-none-any.whl (34 kB)\n","Installing collected packages: wcwidth, pytz, pure-eval, ptyprocess, widgetsnbextension, tzlocal, tzdata, typing-extensions, traitlets, threadpoolctl, tenacity, six, schedule, regex, pyparsing, pygments, prompt-toolkit, pillow, pexpect, parso, numpy, mypy-extensions, llvmlite, kiwisolver, jupyterlab-widgets, joblib, fonttools, executing, exceptiongroup, dill, decorator, cycler, scipy, python-dateutil, plotly, numba, matplotlib-inline, jedi, imageio, contourpy, comm, asttokens, stack-data, scikit-learn, pandas, matplotlib, dateparser, ipython, ipywidgets, vectorbt\n","  Attempting uninstall: numpy\n","    Found existing installation: numpy 1.26.4\n","    Uninstalling numpy-1.26.4:\n","      Successfully uninstalled numpy-1.26.4\n","Successfully installed asttokens-2.4.1 comm-0.2.2 contourpy-1.3.0 cycler-0.12.1 dateparser-1.2.0 decorator-5.1.1 dill-0.3.8 exceptiongroup-1.2.2 executing-2.1.0 fonttools-4.53.1 imageio-2.35.1 ipython-8.27.0 ipywidgets-8.1.5 jedi-0.19.1 joblib-1.4.2 jupyterlab-widgets-3.0.13 kiwisolver-1.4.7 llvmlite-0.39.1 matplotlib-3.9.2 matplotlib-inline-0.1.7 mypy-extensions-1.0.0 numba-0.56.4 numpy-1.23.5 pandas-2.2.2 parso-0.8.4 pexpect-4.9.0 pillow-10.4.0 plotly-5.24.0 prompt-toolkit-3.0.47 ptyprocess-0.7.0 pure-eval-0.2.3 pygments-2.18.0 pyparsing-3.1.4 python-dateutil-2.9.0.post0 pytz-2024.1 regex-2024.7.24 schedule-1.2.2 scikit-learn-1.5.1 scipy-1.14.1 six-1.16.0 stack-data-0.6.3 tenacity-9.0.0 threadpoolctl-3.5.0 traitlets-5.14.3 typing-extensions-4.12.2 tzdata-2024.1 tzlocal-5.2 vectorbt-0.26.2 wcwidth-0.2.13 widgetsnbextension-4.0.13\n"]},{"output_type":"display_data","data":{"application/vnd.colab-display-data+json":{"pip_warning":{"packages":["cycler","matplotlib_inline","numpy","pexpect","prompt_toolkit","six","wcwidth"]},"id":"c1dd02541bea4415aa03b963d6fa393a"}},"metadata":{}}],"source":["!pip install vectorbt\n","!pip install condacolab\n","import condacolab\n","condacolab.install()\n","!conda install -c conda-forge ta-lib\n","!pip install vectorbt"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"QWqr6_BuCPEr"},"outputs":[],"source":["import vectorbt as vbt\n","import talib as ta\n","import requests\n","import json\n","import math\n","import pandas_datareader as web\n","import numpy as np\n","import pandas as pd\n","import time\n","import datetime\n","\n","\n"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"UNXq0oDBCR_9"},"outputs":[],"source":["class GetBinanceData:\n","    @staticmethod\n","    def get_data(symbol, interval, startDate=datetime.datetime(2020, 1, 1), endDate=datetime.datetime.now()):\n","        dataList = []\n","        current_date = datetime.datetime.now()\n","        start_date = startDate\n","\n","        delta_units = GetBinanceData.convert_to_minutes(interval)\n","        print(delta_units)\n","        delta = datetime.timedelta(minutes=delta_units)\n","\n","        while start_date < current_date:\n","            end_date = start_date + delta\n","            if end_date > current_date:\n","                end_date = current_date\n","            # Convert datetime objects to milliseconds\n","            start_ms = int(start_date.timestamp() * 1000)\n","            end_ms = int(end_date.timestamp() * 1000)\n","\n","            start_str = start_date.strftime('%Y-%m-%d %H:%M:%S')\n","            end_str = end_date.strftime('%Y-%m-%d %H:%M:%S')\n","\n","            # print(f\"Fetching data from {start_str} to {end_str}\")\n","            data = GetBinanceData.get_historical_data(symbol, interval, start_ms, end_ms)\n","            if data:\n","                dataList.extend(data)\n","            start_date = end_date\n","            time.sleep(1)\n","\n","        return dataList\n","\n","    @staticmethod\n","    def get_historical_data(symbol, interval, start_time, end_time):\n","        url = f\"https://api.binance.us/api/v3/klines\"\n","        params = {\n","            'symbol': symbol.upper(),\n","            'interval': interval,\n","            'startTime': start_time,\n","            'endTime': end_time,\n","            'limit': 1000\n","        }\n","        # print(params)\n","        response = requests.get(url, params=params)\n","        if response.status_code == 200:\n","            data = response.json()\n","            return data\n","        else:\n","\n","            print(f\"Failed to fetch data. Status code: {response.json()}\")\n","            return None\n","\n","    @staticmethod\n","    def convert_to_minutes(time_str):\n","        time_mapping = {\n","            'm': 1,\n","            'h': 60,\n","            'd': 1440,\n","            'w': 10080,\n","            'M': 43200\n","        }\n","\n","        num = int(time_str[:-1])\n","        unit = time_str[-1]\n","\n","        return (num * time_mapping[unit])*1000\n","\n","    def data_to_dataframe(data):\n","      # Define the column names based on Binance API response\n","      columns = [\n","          \"timestamp\", \"open\", \"high\", \"low\", \"close\", \"volume\",\n","          \"Close Time\", \"Quote Asset Volume\", \"Number of Trades\",\n","          \"Taker Buy Base Asset Volume\", \"Taker Buy Quote Asset Volume\", \"Ignore\"\n","      ]\n","      # Convert the data to a pandas DataFrame\n","      df = pd.DataFrame(data, columns=columns)\n","      # # Convert timestamp columns to datetime\n","      # df[\"timestamp\"] = pd.to_datetime(df['timestamp'])\n","      # df[\"Close Time\"] = pd.to_datetime(df[\"Close Time\"], unit='ms')\n","      # # Convert numeric columns to float\n","      # numeric_columns = [\"open\", \"high\", \"low\", \"close\", \"volume\", \"Quote Asset Volume\",\n","      #                   \"Taker Buy Base Asset Volume\", \"Taker Buy Quote Asset Volume\"]\n","      # df[numeric_columns] = df[numeric_columns].astype(float)\n","      return df\n","\n","    @staticmethod\n","    def get_data_dataFrame(symbol, interval, startDate=datetime.datetime(2020, 1, 1), endDate=datetime.datetime.now()):\n","        data = GetBinanceData.get_data(symbol, interval, startDate, endDate)\n","        return GetBinanceData.data_to_dataframe(data)"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"background_save":true,"base_uri":"https://localhost:8080/","output_embedded_package_id":"1liOWXcfrrvZYWtvuG8mElvqG5QaxiZRB"},"id":"TFP9iYdZCZOY","outputId":"f6ec1f57-c54e-448e-939d-363220a909e6"},"outputs":[{"output_type":"display_data","data":{"text/plain":"Output hidden; open in https://colab.research.google.com to view."},"metadata":{}}],"source":["timeperiod = '1m'\n","HighTimeFrame = '30m'\n","symbol = \"fetusdt\"\n","data = GetBinanceData.get_data(symbol, timeperiod, startDate=datetime.datetime(2024, 6, 1), endDate=datetime.datetime.now())\n","print(data)\n","data2 = GetBinanceData.get_data(symbol, HighTimeFrame, startDate=datetime.datetime(2024, 6, 1), endDate=datetime.datetime.now())"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"background_save":true},"executionInfo":{"elapsed":470,"status":"ok","timestamp":1719876457462,"user":{"displayName":"Ghaffar Elahi","userId":"03211535299359125772"},"user_tz":-300},"id":"JlvO131ECkIq","outputId":"de30fca0-7dc4-4373-9154-b4dbadb0bc2d"},"outputs":[{"name":"stdout","output_type":"stream","text":["Original dataframe length: 89978\n"]}],"source":["# print(data)\n","# dataframe = GetBinanceData.data_to_dataframe(data) #1 minute\n","# dataframe = dataframe.dropna()\n","# print(f\" orignal df = {len(dataframe)}\")\n","\n","# dataframe2 = GetBinanceData.data_to_dataframe(data2) #15 Minute\n","# # Drop NaN values\n","# dataframe = dataframe.dropna()\n","# print(f\"Original dataframe length: {len(dataframe)}\")\n","\n","# # Ensure both dataframes are sorted by timestamp for merge_asof\n","# dataframe = dataframe.sort_values(by='timestamp')\n","# dataframe2 = dataframe2.sort_values(by='timestamp')\n","\n","# # Merge the dataframes based on nearest timestamps\n","# dataframe = pd.merge_asof(dataframe, dataframe2, on='timestamp')\n","\n","# # Rename columns for 1-minute data\n","# dataframe.rename(columns={'open_x': 'open', 'high_x': 'high', 'low_x': 'low', 'close_x': 'close'}, inplace=True)\n","\n","# # Rename columns for 15-minute data\n","# dataframe.rename(columns={\n","#     'open_y': '15_open',\n","#     'high_y': '15_high',\n","#     'low_y': '15_low',\n","#     'close_y': '15_close'\n","# }, inplace=True)\n","\n","# # Drop redundant or renamed columns if necessary\n","# # dataframe.drop(columns=['open_x', 'high_x', 'low_x', 'close_x'], inplace=True)\n","\n","# # Display the head of the dataframe\n","# dataframe.head(len(dataframe))\n","\n"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"background_save":true},"id":"wAz2E3l92NhU"},"outputs":[],"source":["# Load the data\n","dataframe = GetBinanceData.data_to_dataframe(data)  # 1-minute data\n","\n","dataframe2 = GetBinanceData.data_to_dataframe(data2)  # 15-minute data\n","\n","# Drop NaN values\n","dataframe = dataframe.dropna()\n","print(f\"Original dataframe length: {len(dataframe)}\")\n","\n","# Ensure timestamps are in the correct datetime format and sorted\n","dataframe['timestamp'] = pd.to_datetime(dataframe['timestamp'])\n","dataframe2['timestamp'] = pd.to_datetime(dataframe2['timestamp'])\n","\n","dataframe = dataframe.sort_values(by='timestamp')\n","dataframe2 = dataframe2.sort_values(by='timestamp')\n","\n","# Convert relevant columns to numeric types\n","numeric_columns = ['open', 'high', 'low', 'close']\n","for col in numeric_columns:\n","    dataframe[col] = pd.to_numeric(dataframe[col], errors='coerce')\n","    dataframe2[col] = pd.to_numeric(dataframe2[col], errors='coerce')\n","\n","# Drop NaN values again if conversion to numeric created any\n","dataframe = dataframe.dropna()\n","dataframe2 = dataframe2.dropna()\n","\n","# Merge the dataframes based on nearest timestamps\n","dataframe = pd.merge_asof(dataframe, dataframe2, on='timestamp')\n","\n","# Rename columns for 1-minute data\n","dataframe.rename(columns={'open_x': 'open', 'high_x': 'high', 'low_x': 'low', 'close_x': 'close'}, inplace=True)\n","\n","# Rename columns for 15-minute data\n","dataframe.rename(columns={\n","    'open_y': '15_open',\n","    'high_y': '15_high',\n","    'low_y': '15_low',\n","    'close_y': '15_close'\n","}, inplace=True)\n","\n","# Display the head of the dataframe\n","# print(dataframe.head())"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"background_save":true},"id":"vfPahQrncypU"},"outputs":[],"source":["# Keltner Channels\n","Keltnerlength = 40\n","Keltnermult = 2.0\n","Keltnersrc = 'close'  # Assuming the column name in the DataFrame is 'close'\n","Keltnerexp = True\n","KeltnerBandsStyle = \"Range\"  # Options: \"Average True Range\", \"True Range\", \"Range\"\n","Keltneratrlength = 10\n","\n","# RSI parameters for First Set\n","RSI_Period1 = 6\n","SF1 = 5\n","QQE1 = 3\n","ThreshHold1 = 3\n","\n","# RSI parameters for Second Set\n","RSI_Period2 = 6\n","SF2 = 5\n","QQE2 = 1.61\n","ThreshHold2 = 3\n","\n","length1 = 50\n","mult1 = 0.35\n","\n","# Volatility Indicator parameters\n","LookbackPeriod = 6\n","UpLevel = 100\n","DownLevel = -10\n","VolatilityPeriod = 10\n","MAType = \"SMA\"\n","Source = \"close\"\n","StdvMode = True\n","fastMALength = 8\n","slowMALength = 13\n","\n","TrendSmaLength = 5\n","\n","def esma(source, length, exp):\n","    if exp:\n","        return ta.EMA(source, timeperiod=length)\n","    else:\n","        return ta.SMA(source, timeperiod=length)\n"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":569},"executionInfo":{"elapsed":21,"status":"error","timestamp":1719877332232,"user":{"displayName":"Ghaffar Elahi","userId":"03211535299359125772"},"user_tz":-300},"id":"re9FDTvLrLUf","outputId":"639c245a-7c30-46a4-c038-663e48df144e"},"outputs":[{"ename":"KeyError","evalue":"'Open'","output_type":"error","traceback":["\u001b[0;31m---------------------------------------------------------------------------\u001b[0m","\u001b[0;31mKeyError\u001b[0m                                  Traceback (most recent call last)","\u001b[0;32m/usr/local/lib/python3.10/site-packages/pandas/core/indexes/base.py\u001b[0m in \u001b[0;36mget_loc\u001b[0;34m(self, key)\u001b[0m\n\u001b[1;32m   3804\u001b[0m         \u001b[0;32mtry\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m-> 3805\u001b[0;31m             \u001b[0;32mreturn\u001b[0m \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0m_engine\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mget_loc\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mcasted_key\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m   3806\u001b[0m         \u001b[0;32mexcept\u001b[0m \u001b[0mKeyError\u001b[0m \u001b[0;32mas\u001b[0m \u001b[0merr\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n","\u001b[0;32mindex.pyx\u001b[0m in \u001b[0;36mpandas._libs.index.IndexEngine.get_loc\u001b[0;34m()\u001b[0m\n","\u001b[0;32mindex.pyx\u001b[0m in \u001b[0;36mpandas._libs.index.IndexEngine.get_loc\u001b[0;34m()\u001b[0m\n","\u001b[0;32mpandas/_libs/hashtable_class_helper.pxi\u001b[0m in \u001b[0;36mpandas._libs.hashtable.PyObjectHashTable.get_item\u001b[0;34m()\u001b[0m\n","\u001b[0;32mpandas/_libs/hashtable_class_helper.pxi\u001b[0m in \u001b[0;36mpandas._libs.hashtable.PyObjectHashTable.get_item\u001b[0;34m()\u001b[0m\n","\u001b[0;31mKeyError\u001b[0m: 'Open'","\nThe above exception was the direct cause of the following exception:\n","\u001b[0;31mKeyError\u001b[0m                                  Traceback (most recent call last)","\u001b[0;32m<ipython-input-117-63e4b1f211e7>\u001b[0m in \u001b[0;36m<cell line: 14>\u001b[0;34m()\u001b[0m\n\u001b[1;32m     12\u001b[0m     \u001b[0mdf\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;34m'Low'\u001b[0m\u001b[0;34m]\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mha_low\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     13\u001b[0m     \u001b[0;32mreturn\u001b[0m \u001b[0mdf\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m---> 14\u001b[0;31m \u001b[0mdataframe\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mheikin_ashi_inplace\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mdataframe\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m","\u001b[0;32m<ipython-input-117-63e4b1f211e7>\u001b[0m in \u001b[0;36mheikin_ashi_inplace\u001b[0;34m(df)\u001b[0m\n\u001b[1;32m      1\u001b[0m \u001b[0;32mdef\u001b[0m \u001b[0mheikin_ashi_inplace\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mdf\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m----> 2\u001b[0;31m     \u001b[0mha_close\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0;34m(\u001b[0m\u001b[0mdf\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;34m'Open'\u001b[0m\u001b[0;34m]\u001b[0m \u001b[0;34m+\u001b[0m \u001b[0mdf\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;34m'High'\u001b[0m\u001b[0;34m]\u001b[0m \u001b[0;34m+\u001b[0m \u001b[0mdf\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;34m'Low'\u001b[0m\u001b[0;34m]\u001b[0m \u001b[0;34m+\u001b[0m \u001b[0mdf\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;34m'Close'\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m)\u001b[0m \u001b[0;34m/\u001b[0m \u001b[0;36m4\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m      3\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m      4\u001b[0m     \u001b[0mha_open\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0;34m(\u001b[0m\u001b[0mdf\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;34m'Open'\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mshift\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;36m1\u001b[0m\u001b[0;34m)\u001b[0m \u001b[0;34m+\u001b[0m \u001b[0mdf\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;34m'Close'\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mshift\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;36m1\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m)\u001b[0m \u001b[0;34m/\u001b[0m \u001b[0;36m2\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m      5\u001b[0m     \u001b[0mha_open\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0miloc\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;36m0\u001b[0m\u001b[0;34m]\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0;34m(\u001b[0m\u001b[0mdf\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;34m'Open'\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0miloc\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;36m0\u001b[0m\u001b[0;34m]\u001b[0m \u001b[0;34m+\u001b[0m \u001b[0mdf\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;34m'Close'\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0miloc\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;36m0\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m)\u001b[0m \u001b[0;34m/\u001b[0m \u001b[0;36m2\u001b[0m  \u001b[0;31m# Initialize the first value\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n","\u001b[0;32m/usr/local/lib/python3.10/site-packages/pandas/core/frame.py\u001b[0m in \u001b[0;36m__getitem__\u001b[0;34m(self, key)\u001b[0m\n\u001b[1;32m   4100\u001b[0m             \u001b[0;32mif\u001b[0m \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mcolumns\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mnlevels\u001b[0m \u001b[0;34m>\u001b[0m \u001b[0;36m1\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m   4101\u001b[0m                 \u001b[0;32mreturn\u001b[0m \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0m_getitem_multilevel\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mkey\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m-> 4102\u001b[0;31m             \u001b[0mindexer\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mcolumns\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mget_loc\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mkey\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m   4103\u001b[0m             \u001b[0;32mif\u001b[0m \u001b[0mis_integer\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mindexer\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m   4104\u001b[0m                 \u001b[0mindexer\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0;34m[\u001b[0m\u001b[0mindexer\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n","\u001b[0;32m/usr/local/lib/python3.10/site-packages/pandas/core/indexes/base.py\u001b[0m in \u001b[0;36mget_loc\u001b[0;34m(self, key)\u001b[0m\n\u001b[1;32m   3810\u001b[0m             ):\n\u001b[1;32m   3811\u001b[0m                 \u001b[0;32mraise\u001b[0m \u001b[0mInvalidIndexError\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mkey\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m-> 3812\u001b[0;31m             \u001b[0;32mraise\u001b[0m \u001b[0mKeyError\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mkey\u001b[0m\u001b[0;34m)\u001b[0m \u001b[0;32mfrom\u001b[0m \u001b[0merr\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m   3813\u001b[0m         \u001b[0;32mexcept\u001b[0m \u001b[0mTypeError\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m   3814\u001b[0m             \u001b[0;31m# If we have a listlike key, _check_indexing_error will raise\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n","\u001b[0;31mKeyError\u001b[0m: 'Open'"]}],"source":["def heikin_ashi_inplace(df):\n","    ha_close = (df['Open'] + df['High'] + df['Low'] + df['Close']) / 4\n","\n","    ha_open = (df['Open'].shift(1) + df['Close'].shift(1)) / 2\n","    ha_open.iloc[0] = (df['Open'].iloc[0] + df['Close'].iloc[0]) / 2  # Initialize the first value\n","\n","    ha_high = df[['High', ha_open, ha_close]].max(axis=1)\n","    ha_low = df[['Low', ha_open, ha_close]].min(axis=1)\n","\n","    df['Open'] = ha_open\n","    df['High'] = ha_high\n","    df['Low'] = ha_low\n","    return df\n","dataframe = heikin_ashi_inplace(dataframe)"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"background_save":true},"executionInfo":{"elapsed":454,"status":"ok","timestamp":1719876475412,"user":{"displayName":"Ghaffar Elahi","userId":"03211535299359125772"},"user_tz":-300},"id":"xQM5rfeQDxMA","outputId":"d8f1374f-3cdf-4f82-87e9-a064f88b9d73"},"outputs":[{"ename":"TypeError","evalue":"Argument 'real' has incorrect type (expected numpy.ndarray, got DataFrame)","output_type":"error","traceback":["\u001b[0;31m---------------------------------------------------------------------------\u001b[0m","\u001b[0;31mTypeError\u001b[0m                                 Traceback (most recent call last)","\u001b[0;32m<ipython-input-40-1464a9e45a6f>\u001b[0m in \u001b[0;36m<cell line: 136>\u001b[0;34m()\u001b[0m\n\u001b[1;32m    134\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    135\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m--> 136\u001b[0;31m \u001b[0mdataframe\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;34m\"fastMa_highTimeFrame\"\u001b[0m\u001b[0;34m]\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mta\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mSMA\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mdataframe\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;34m\"15_close\"\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mtimeperiod\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;36m3\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m    137\u001b[0m \u001b[0mdataframe\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;34m\"1hBullish\"\u001b[0m\u001b[0;34m]\u001b[0m \u001b[0;34m=\u001b[0m   \u001b[0mdataframe\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;34mf\"15_close\"\u001b[0m\u001b[0;34m]\u001b[0m \u001b[0;34m>\u001b[0m  \u001b[0mdataframe\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;34mf\"15_open\"\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    138\u001b[0m \u001b[0;31m# dataframe[\"overSoldCon\"] = (\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n","\u001b[0;32m/usr/local/lib/python3.10/site-packages/talib/__init__.py\u001b[0m in \u001b[0;36mwrapper\u001b[0;34m(*args, **kwds)\u001b[0m\n\u001b[1;32m     62\u001b[0m                 \u001b[0m_kwds\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mkwds\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     63\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m---> 64\u001b[0;31m             \u001b[0mresult\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mfunc\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m*\u001b[0m\u001b[0m_args\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;34m**\u001b[0m\u001b[0m_kwds\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m     65\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     66\u001b[0m             \u001b[0;31m# check to see if we got a streaming result\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n","\u001b[0;31mTypeError\u001b[0m: Argument 'real' has incorrect type (expected numpy.ndarray, got DataFrame)"]}],"source":["dataframe[\"RSI\"] = ta.RSI(dataframe[\"close\"] , 14)\n","        # Calculate the moving average\n","dataframe['ma'] = esma(dataframe[Keltnersrc], Keltnerlength, Keltnerexp)\n","\n","        # Calculate the range based on the selected KeltnerBandsStyle\n","if KeltnerBandsStyle == \"True Range\":\n","    dataframe['range'] = ta.TRANGE(dataframe)\n","elif KeltnerBandsStyle == \"Average True Range\":\n","            dataframe['range'] = ta.ATR(dataframe, timeperiod=self.Keltneratrlength)\n","else:  # \"Range\"\n","    dataframe['range'] = dataframe['high'] - dataframe['low']\n","    dataframe['range'] = dataframe['range'].rolling(window=Keltnerlength).mean()\n","\n","        # Calculate the Keltner Channels\n","dataframe['upperKeltner'] = dataframe['ma'] + dataframe['range'] * Keltnermult\n","dataframe['lowerKeltner'] = dataframe['ma'] - dataframe['range'] * Keltnermult\n","\n","        # Calculate RSI and smoothed RSI for First Set\n","dataframe['Rsi1'] = ta.RSI(dataframe['close'], timeperiod=RSI_Period1)\n","dataframe['RsiMa1'] = esma(dataframe['Rsi1'], SF1, True)\n","dataframe['AtrRsi1'] = abs(dataframe['RsiMa1'].shift(1) - dataframe['RsiMa1'])\n","dataframe['MaAtrRsi1'] =esma(dataframe['AtrRsi1'], RSI_Period1 * 2 - 1, True)\n","dataframe['dar1'] = esma(dataframe['MaAtrRsi1'], RSI_Period1 * 2 - 1, True) * QQE1\n","\n","dataframe['longband1'] = 0.0\n","dataframe['shortband1'] = 0.0\n","dataframe['trend1'] = 0\n","\n","dataframe['DeltaFastAtrRsi1'] = dataframe['dar1']\n","dataframe['RSIndex1'] = dataframe['RsiMa1']\n","dataframe['newshortband1'] = dataframe['RSIndex1'] + dataframe['DeltaFastAtrRsi1']\n","dataframe['newlongband1'] = dataframe['RSIndex1'] - dataframe['DeltaFastAtrRsi1']\n","\n","dataframe['longband1'] = np.where((dataframe['RSIndex1'].shift(1) < dataframe['RSIndex1']) & (dataframe['RSIndex1'] >= dataframe['longband1'].shift(1)),\n","                                          np.maximum(dataframe['longband1'].shift(1), dataframe['newlongband1']), dataframe['newlongband1'])\n","dataframe['shortband1'] = np.where((dataframe['RSIndex1'].shift(1) > dataframe['RSIndex1']) & (dataframe['RSIndex1'] <= dataframe['shortband1'].shift(1)),\n","                                           np.minimum(dataframe['shortband1'].shift(1), dataframe['newshortband1']), dataframe['newshortband1'])\n","\n","\n","dataframe['cross_1'] = ((dataframe['longband1'].shift(1) < dataframe['RSIndex1']) &\n","            (dataframe['RSIndex1'] >= dataframe['longband1']) )\n","\n","dataframe['trend1'] = np.where(dataframe['RSIndex1'] > dataframe['shortband1'].shift(1),1,np.where(\n","                dataframe['cross_1'],\n","                -1,\n","                dataframe['trend1'].shift(1)\n","            )\n","        )\n","dataframe['FastAtrRsiTL1'] = np.where(dataframe['trend1'] == 1, dataframe['longband1'], dataframe['shortband1'])\n","\n","        # Calculate Bollinger Bands for First Set\n","dataframe['basis1'] = ta.SMA(dataframe['FastAtrRsiTL1'] - 50, timeperiod=length1)\n","dataframe['dev1'] = mult1 * ta.STDDEV(dataframe['FastAtrRsiTL1'] - 50, timeperiod=length1)\n","dataframe['upperBB1'] = dataframe['basis1'] + dataframe['dev1']\n","dataframe['lowerBB1'] = dataframe['basis1'] - dataframe['dev1']\n","\n","        # Calculate QQE Long and Short for First Set\n","dataframe['QQEzlong1'] = dataframe['RSIndex1'] >= 50\n","dataframe['QQEzshort1'] = dataframe['RSIndex1'] < 50\n","\n","        # Calculate RSI and smoothed RSI for Second Set\n","dataframe['Rsi2'] = ta.RSI(dataframe['close'], timeperiod=RSI_Period2)\n","dataframe['RsiMa2'] = esma(dataframe['Rsi2'], SF2, True)\n","dataframe['AtrRsi2'] = abs(dataframe['RsiMa2'].shift(1) - dataframe['RsiMa2'])\n","dataframe['MaAtrRsi2'] = esma(dataframe['AtrRsi2'], RSI_Period2 * 2 - 1, True)\n","dataframe['dar2'] = esma(dataframe['MaAtrRsi2'], RSI_Period2 * 2 - 1, True) * QQE2\n","\n","dataframe['longband2'] = 0.0\n","dataframe['shortband2'] = 0.0\n","dataframe['trend2'] = 0\n","\n","dataframe['DeltaFastAtrRsi2'] = dataframe['dar2']\n","dataframe['RSIndex2'] = dataframe['RsiMa2']\n","dataframe['newshortband2'] = dataframe['RSIndex2'] + dataframe['DeltaFastAtrRsi2']\n","dataframe['newlongband2'] = dataframe['RSIndex2'] - dataframe['DeltaFastAtrRsi2']\n","\n","dataframe['longband2'] = np.where((dataframe['RSIndex2'].shift(1) < dataframe['RSIndex2']) & (dataframe['RSIndex2'] >= dataframe['longband2'].shift(1)),\n","                                          np.maximum(dataframe['longband2'].shift(1), dataframe['newlongband2']), dataframe['newlongband2'])\n","dataframe['shortband2'] = np.where((dataframe['RSIndex2'].shift(1) > dataframe['RSIndex2']) & (dataframe['RSIndex2'] <= dataframe['shortband2'].shift(1)),\n","                                           np.minimum(dataframe['shortband2'].shift(1), dataframe['newshortband2']), dataframe['newshortband2'])\n","\n","\n","dataframe['cross_2'] = (\n","            (dataframe['longband2'].shift(1) < dataframe['RSIndex2']) &\n","            (dataframe['RSIndex2'] >= dataframe['longband2'])\n","        )\n","\n","dataframe['trend2'] = np.where(\n","            dataframe['RSIndex2'] > dataframe['shortband2'].shift(1),\n","            1,\n","            np.where(\n","                dataframe['cross_2'],\n","                -1,\n","                dataframe['trend2'].shift(1)\n","            )\n","        )\n","\n","dataframe['FastAtrRsiTL2'] = np.where(dataframe['trend2'] == 1, dataframe['longband2'], dataframe['shortband2'])\n","dataframe['Greenbar1'] = (dataframe['RSIndex2'] - 50 > ThreshHold2)\n","dataframe['Greenbar2'] = (dataframe['RsiMa1'] - 50 > dataframe['upperBB1'])\n","dataframe['Redbar1'] = (dataframe['RSIndex2'] - 50 < 0 - ThreshHold2)\n","dataframe['Redbar2'] = (dataframe['RsiMa1'] - 50 < dataframe['lowerBB1'])\n","        # --------------------------------------- Volatility Indicator\n","if MAType == \"SMA\":\n","  dataframe['fastMA'] = ta.SMA(dataframe[Source], timeperiod=fastMALength)\n","  dataframe['slowMA'] = ta.SMA(dataframe[Source], timeperiod=slowMALength)\n","else:\n","    dataframe['fastMA'] = ta.EMA(dataframe[Source], timeperiod=fastMALength)\n","    dataframe['slowMA'] = ta.EMA(dataframe[Source], timeperiod=slowMALength)\n","\n","        # Calculate value and range\n","dataframe['val'] = 100.0 * (dataframe['fastMA'] - dataframe['slowMA']) / dataframe['slowMA']\n","dataframe['min'] = dataframe['val'].rolling(window=LookbackPeriod).min()\n","dataframe['max'] = dataframe['val'].rolling(window=LookbackPeriod).max()\n","dataframe['range'] = dataframe['max'] - dataframe['min']\n","\n","dataframe['flUp'] = UpLevel * dataframe['range'] / 100.0\n","dataframe['flDn'] = DownLevel * dataframe['range'] / 100.0\n","\n","        # Trend SMA\n","dataframe['trendSma'] = ta.EMA(dataframe['close'], timeperiod=TrendSmaLength)\n","\n","        # Calculate histo and bufferLine\n","dataframe['histo'] = abs(dataframe['flUp'] - dataframe['flDn'])\n","if StdvMode:\n","    dataframe['bufferLine'] = dataframe['histo'].rolling(window=VolatilityPeriod).std()\n","else:\n","    dataframe['bufferLine'] = ta.EMA(dataframe['histo'], timeperiod=VolatilityPeriod)\n","\n","        # Volatility condition\n","dataframe['voltile'] = dataframe['histo'] > dataframe['bufferLine']\n","\n","# informative_1h = self.dp.get_pair_dataframe(pair=metadata['pair'], timeframe=self.HigerTimeFrame)\n","\n","\n","dataframe[\"fastMa_highTimeFrame\"] = ta.SMA(dataframe[\"15_close\"], timeperiod=3)\n","dataframe[\"1hBullish\"] =   dataframe[f\"15_close\"] >  dataframe[f\"15_open\"]\n","# dataframe[\"overSoldCon\"] = (\n","#             (dataframe[\"fastMa_highTimeFrame\"] < dataframe[f\"15_close\"]) &\n","#             dataframe[\"Redbar1\"].astype(bool) &\n","#             dataframe[\"Redbar2\"].astype(bool) &\n","#             (dataframe[\"RSI\"] < 25) &\n","#             (dataframe[\"high\"] < dataframe[\"lowerKeltner\"]) &\n","#             dataframe[\"voltile\"].astype(bool) &\n","#             (dataframe[\"high\"] < dataframe[\"trendSma\"])\n","#         )\n","\n","        # Check if overSoldCon was true in the last 10 periods\n","# dataframe['wasOverSold'] = dataframe['overSoldCon'].rolling(window=5).apply(lambda x: x.any(), raw=True).astype(bool)\n","        # print(dataframe)\n","        # Calculate bullishSma using the custom esma function\n","dataframe[\"bullishSma\"] = ta.SMA(dataframe['close'], timeperiod=5)\n"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"background_save":true},"executionInfo":{"elapsed":1142,"status":"ok","timestamp":1719876483326,"user":{"displayName":"Ghaffar Elahi","userId":"03211535299359125772"},"user_tz":-300},"id":"qsRxG4y02XNB","outputId":"0e4dd79d-0a35-4133-c137-cd4e198cf63a"},"outputs":[{"ename":"TypeError","evalue":"Argument 'real' has incorrect type (expected numpy.ndarray, got DataFrame)","output_type":"error","traceback":["\u001b[0;31m---------------------------------------------------------------------------\u001b[0m","\u001b[0;31mTypeError\u001b[0m                                 Traceback (most recent call last)","\u001b[0;32m<ipython-input-41-79b2675cf0c2>\u001b[0m in \u001b[0;36m<cell line: 1>\u001b[0;34m()\u001b[0m\n\u001b[0;32m----> 1\u001b[0;31m \u001b[0mdataframe\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;34m\"fastMa_highTimeFrame\"\u001b[0m\u001b[0;34m]\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mta\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mSMA\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mdataframe\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;34mf\"15_close\"\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mtimeperiod\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;36m3\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m      2\u001b[0m \u001b[0mdataframe\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;34m\"1hBullish\"\u001b[0m\u001b[0;34m]\u001b[0m \u001b[0;34m=\u001b[0m   \u001b[0mdataframe\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;34mf\"15_close\"\u001b[0m\u001b[0;34m]\u001b[0m \u001b[0;34m>\u001b[0m  \u001b[0mdataframe\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;34mf\"15_open\"\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m      3\u001b[0m dataframe[\"overSoldCon\"] = (\n\u001b[1;32m      4\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m      5\u001b[0m             \u001b[0mdataframe\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;34m\"1hBullish\"\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m&\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n","\u001b[0;32m/usr/local/lib/python3.10/site-packages/talib/__init__.py\u001b[0m in \u001b[0;36mwrapper\u001b[0;34m(*args, **kwds)\u001b[0m\n\u001b[1;32m     62\u001b[0m                 \u001b[0m_kwds\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mkwds\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     63\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m---> 64\u001b[0;31m             \u001b[0mresult\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mfunc\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m*\u001b[0m\u001b[0m_args\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;34m**\u001b[0m\u001b[0m_kwds\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m     65\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     66\u001b[0m             \u001b[0;31m# check to see if we got a streaming result\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n","\u001b[0;31mTypeError\u001b[0m: Argument 'real' has incorrect type (expected numpy.ndarray, got DataFrame)"]}],"source":["# dataframe[\"fastMa_highTimeFrame\"] = ta.SMA(dataframe[f\"15_close\"], timeperiod=3)\n","# dataframe[\"1hBullish\"] =   dataframe[f\"15_close\"] >  dataframe[f\"15_open\"]\n","# dataframe[\"overSoldCon\"] = (\n","\n","#             dataframe[\"1hBullish\"]&\n","\n","#             (dataframe[\"fastMa_highTimeFrame\"] < dataframe[f\"15_close\"]) &\n","#             dataframe[\"Redbar1\"].astype(bool) &\n","#             dataframe[\"Redbar2\"].astype(bool) &\n","#             (dataframe[\"RSI\"] < 25) &\n","#             (dataframe[\"high\"] < dataframe[\"lowerKeltner\"]) &\n","#             dataframe[\"voltile\"].astype(bool) &\n","#             (dataframe[\"high\"] < dataframe[\"trendSma\"])\n","#         )\n","\n","#         # Check if overSoldCon was true in the last 10 periods\n","# dataframe['wasOverSold'] = dataframe['overSoldCon'].rolling(window=10).apply(lambda x: x.any(), raw=True).astype(bool)\n","#         # print(dataframe)\n","#         # Calculate bullishSma using the custom esma function\n","# dataframe[\"bullishSma\"] = ta.SMA(dataframe['close'], timeperiod=5)\n","\n","dataframe[\"overSoldCon\"] = (\n","\n","            dataframe[\"Redbar1\"].astype(bool) &\n","            dataframe[\"Redbar2\"].astype(bool) &\n","            (dataframe[\"RSI\"] < 25) &\n","            (dataframe[\"high\"] < dataframe[\"lowerKeltner\"]) &\n","            dataframe[\"voltile\"].astype(bool) &\n","            (dataframe[\"high\"] < dataframe[\"trendSma\"])\n","        )\n","\n","        # Check if overSoldCon was true in the last 10 periods\n","dataframe['wasOverSold'] = dataframe['overSoldCon'].rolling(window=10).apply(lambda x: x.any(), raw=True).astype(bool)\n","        # print(dataframe)\n","        # Calculate bullishSma using the custom esma function\n","dataframe[\"bullishSma\"] = ta.SMA(dataframe['close'], timeperiod=5)"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"background_save":true},"id":"PbpLwbared24"},"outputs":[],"source":["buy_signal = (\n"," dataframe[\"wasOverSold\"]\n"," & (dataframe[f\"close\"] >  dataframe[f\"open\"])\n",")"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"background_save":true,"base_uri":"https://localhost:8080/","height":1000,"output_embedded_package_id":"1pwaq6RNY5lnNad-vJ9PgnqhpISD5nibk"},"executionInfo":{"elapsed":64962,"status":"ok","timestamp":1719876554739,"user":{"displayName":"Ghaffar Elahi","userId":"03211535299359125772"},"user_tz":-300},"id":"XXRFrhGceGIN","outputId":"37b62d44-8f2b-4c99-bad3-8c8443d7f6f6"},"outputs":[{"output_type":"display_data","data":{"text/plain":"Output hidden; open in https://colab.research.google.com to view."},"metadata":{}}],"source":["\n","pf = vbt.Portfolio.from_signals(\n","    close=dataframe['close'],\n","    entries=buy_signal,\n","\n","    tp_stop=0.01,\n","    init_cash=10000,\n","    freq='1m',  # 5 minutes\n","    sl_stop=0.02,  # Stoploss at -20%\n","    sl_trail=True,\n","\n",")\n","\n","# Performance metrics\n","print(pf.stats())\n","\n","# Plot the results\n","pf.plot().show()"]}],"metadata":{"colab":{"provenance":[],"authorship_tag":"ABX9TyN84aXJRUyimSG4idqc0eaz"},"kernelspec":{"display_name":"Python 3","name":"python3"},"language_info":{"name":"python"}},"nbformat":4,"nbformat_minor":0}